{% if section.blocks.size > 0 %}
  <div class="js-homepage-carousel"
    data-slick='{
              "autoplaySpeed": {{ section.settings.slider_speed }}
              }'>
    {% for block in section.blocks %}
      <div>
        <div class="homepage-collection-hero-new">
          <div class="inner">
            <div id="homepage-hero-slider-image-{{ block.id }}" class="image"></div>
            <div class="content">
              <div>
                <h2>{{ block.settings.hero_text }}</h2>
                <a href="{{ block.settings.hero_cta_link }}">
                  {{ block.settings.hero_cta_text }}
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
{% endif %}

<style type="text/css" media="screen">
  {% for block in section.blocks %}
  #homepage-hero-slider-image-{{ block.id }} {
    background-image: url("{{ block.settings.hero_image_landscape | img_url: '1920x' }}");
    background-position: {{ block.settings.hero_image_landscape_focusX }}% {{ block.settings.hero_image_landscape_focusY }}%;
  }
  @media screen and (max-width: 768px) and (max-aspect-ratio: 1/1) {
    #homepage-hero-slider-image-{{ block.id }} {
      background-image: url("{{ block.settings.hero_image_portrait | img_url: '1080x' }}");
      background-position: {{ block.settings.hero_image_portrait_focusX }}% {{ block.settings.hero_image_portrait_focusY }}%;
    }
  }
  {% endfor %}
</style>

{% schema %}
  {
    "name": "Slideshow",
    "class": "homepage-slideshow",
    "settings": [
      {
        "type": "text",
        "id": "slider_speed",
        "label": "Slider speed"
      }
    ],
    "blocks": [
      {
        "type": "image",
        "name": "Image slide",
        "settings": [
          {
            "type": "image_picker",
            "id": "hero_image_landscape",
            "label": "Landscape Image",
            "info": "Used for landscape orientation displays (desktops)."
          },
          {
            "type": "text",
            "id": "hero_image_landscape_focusX",
            "label": "Landscape Focus Point X",
            "info": "Percentage value, calculated by dividing the focus point X position in pixels by the width of the image multiplied by 100."
          },
          {
            "type": "text",
            "id": "hero_image_landscape_focusY",
            "label": "Landscape Focus Point Y",
            "info": "Percentage value, calculated by dividing the focus point Y position in pixels by the height of the image multiplied by 100."
          },
          {
            "type": "image_picker",
            "id": "hero_image_portrait",
            "label": "Portrait Image",
            "info": "Used for portrait orientation displays (phones, etc.),"
          },
          {
            "type": "text",
            "id": "hero_image_portrait_focusX",
            "label": "Portrait Focus Point X",
            "info": "Percentage value, calculated by dividing the focus point X position in pixels by the width of the image multiplied by 100."
          },
          {
            "type": "text",
            "id": "hero_image_portrait_focusY",
            "label": "Portrait Focus Point Y",
            "info": "Percentage value, calculated by dividing the focus point Y position in pixels by the height of the image multiplied by 100."
          },
          {
            "type": "text",
            "id": "hero_text",
            "label": "Hero Text",
            "default": "Welcome to our store"
          },
          {
            "type": "text",
            "id": "hero_cta_text",
            "label": "CTA Text",
            "default": "Our Products"
          },
          {
            "type": "url",
            "id": "hero_cta_link",
            "label": "CTA Link"
          }
        ]
      }
    ]
  }
{% endschema %}

{% javascript %}
{% endjavascript %}
