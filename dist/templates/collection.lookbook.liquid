{% comment %}

For more information on collection tags:
- http://docs.shopify.com/themes/liquid-variables/collection

{% endcomment %}
<div class="product-grid-hero">
  <div class="wrapper">
    <header class="hero-header">
      <h2>
        {% if current_tags %}
          {{ current_tags }}
        {% else %}
          {% if collection.handle == 'shop' %}
            Shop THEIA
          {% elsif collection.handle == 'collections' %}
            THEIA Collections
          {% else %}
            {{ collection.title }} Collection
          {% endif %}
        {% endif %}
      </h2>
    </header>

    <div class="hero-body">
      {% paginate collection.products by 4 %}

      {% comment %}
      Use class grid-uniform to have evenly sized columns clear
      each other properly at each breakpoint.
      {% endcomment %}

      {% comment %}
      Loop through our products in the current collection.
      See the snippet 'product-grid-item' for the layout.
      {% endcomment %}

      <div id="collection-items"
           data-page-number="{{ paginate.current_page }}"
           data-current-page-offset="{{ paginate.current_offset }}"
           data-page-size="{{ paginate.page_size }}"
           data-total-pages="{{ paginate.pages }}"
           data-total-items="{{ paginate.items }}"
           data-has-next-page="{% if paginate.next %}true{% else %}false{% endif %}"
           {% if paginate.next %}
           data-next-page-url="{{ paginate.next.url }}"
           {% endif %}
           >
        {% for product in collection.products %}

          {% include 'lookbook-grid-item' %}

        {% else %}{% comment %}for loops in liquid may have an else statement if the collection is empty{% endcomment %}

          <div class="grid-item">
            <p>Sorry, there are no products matching your search.</p>
          </div>

        {% endfor %}
      </div>

      <div class="loading-image-block js-hidden">
        <img src="{{ 'loading.gif' | asset_url }}" />
      </div>

      {% include 'pagination-block' %}

      <div class="back-to-top-block js-hidden">
        <a data-scroll class="back-to-top-link" href="#top">Back to Top</a>
      </div>

      <div class="modal-content-block js-hidden" id="lookbook-gallery-modal">
        <div class="vex-content-inner lookbook-modal">
          <div class="lookbook-carousel">

          </div>
        </div>
      </div>

    {% endpaginate %}
    </div>

  </div>
</div>

<script id="lookbook-modal-carousel-template" type="text/x-handlebars-template">
  <div class="vex-content-inner lookbook-modal">
    <div class="lookbook-carousel">
    </div>
  </div>
</script>

<script id="lookbook-carousel-slide-template" type="text/x-handlebars-template">
  <div class="lookbook-carousel-slide" data-item-index="{% raw %}{{itemIndex}}{% endraw %}">
    <h3>{% raw %}{{title}}{% endraw %}</h3>

    <img src="{% raw %}{{imageUrl}}{% endraw %}"
         class="lookbook-carousel-slide-image">

    <div class="call-to-action-block">
      {% include 'lookbook-modal-cta-link', link_class: 'desktop-button' %}
      {% include 'lookbook-modal-cta-link', link_class: 'mobile-link' %}
    </div>

  </div>
</script>

<hr class="hr-4-col" />

<div class="social-link-newsletter-hero">
  <div class="social-link-newsletter-column">

    <h2>Keep in touch</h2>

    {% include 'social-link-block' %}

  </div>
  <div class="social-link-newsletter-column">

    {% include 'newsletter-signup-block' %}

  </div>
</div>
